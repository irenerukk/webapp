<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio</title>
    <link rel="stylesheet" href="./css/portfolio.css" />
    <style>
      /* Cambio de color al hacer hover */
      .button:hover {
        background-color: rgb(255, 255, 255);
        color: black;
      }
      .rotating-image {
        width: 30; /* Puedes ajustar el tamaño de la imagen */
        height: 30;
        animation: rotate 4s linear infinite; /* Aplica la animación de rotación */
      }
      /* Definir la animación de rotación */
      @keyframes rotate {
        0% {
          transform: rotate(0deg); /* Comienza sin rotación */
        }
        100% {
          transform: rotate(360deg); /* Gira 360 grados */
        }
      }

      .draggable {
        position: absolute; /* Necesario para mover el elemento */
        cursor: default; /* Indica que el elemento es arrastrable */
        width: 100px; /* Opcional: Define un tamaño para la imagen */
        height: auto; /* Mantén la proporción de la imagen */
      }
    </style>
  </head>

  <body>
    <div class="custom-cursor"></div>
    <script src="script.js"></script>
    <div>
      <img
        src="Assets/portfolio/blackstar.svg"
        alt="Arrástrame"
        class="draggable"
      />
      <img
        src="Assets/portfolio/blackpunzon.svg"
        alt="Arrástrame 2"
        class="draggable"
      />
      <img
        src="Assets/portfolio/whitestar.svg"
        alt="Arrástrame 3"
        class="draggable"
      />
    </div>

    <script>
      // Función para guardar y recuperar las posiciones de cada imagen
      function getPositionFromLocalStorage(imgId) {
        const storedX = localStorage.getItem(imgId + "_x");
        const storedY = localStorage.getItem(imgId + "_y");
        return {
          x: storedX ? parseInt(storedX) : 0,
          y: storedY ? parseInt(storedY) : 0,
        };
      }

      function setPositionToLocalStorage(imgId, x, y) {
        localStorage.setItem(imgId + "_x", x);
        localStorage.setItem(imgId + "_y", y);
      }

      // Seleccionamos todas las imágenes con la clase .draggable
      const draggables = document.querySelectorAll(".draggable");

      // Variables de arrastre
      let isDragging = false;
      let offsetX, offsetY;

      draggables.forEach((draggable) => {
        const imgId = draggable.id;

        // Recuperamos la última posición de cada imagen desde localStorage
        const { x, y } = getPositionFromLocalStorage(imgId);
        draggable.style.left = `${x}px`;
        draggable.style.top = `${y}px`;

        // Función para manejar el arrastre
        function dragElement(event) {
          if (isDragging) {
            event.preventDefault(); // Prevenimos el comportamiento por defecto (evita seleccionar texto)
            const draggable = event.target;

            // Calculamos la nueva posición de la imagen
            draggable.style.left = `${event.clientX - offsetX}px`;
            draggable.style.top = `${event.clientY - offsetY}px`;
          }
        }

        // Asignamos los eventos de mousedown, mousemove y mouseup a todas las imágenes
        draggable.addEventListener("mousedown", (event) => {
          isDragging = true; // Activamos el arrastre
          offsetX = event.clientX - draggable.offsetLeft;
          offsetY = event.clientY - draggable.offsetTop;

          // Cambiamos el cursor para indicar que estamos arrastrando
          draggable.style.cursor = "grabbing";
        });

        // Manejamos el movimiento del ratón para arrastrar las imágenes
        document.addEventListener("mousemove", dragElement);

        // Cuando se suelta el clic, desactivamos el arrastre y guardamos la nueva posición
        document.addEventListener("mouseup", () => {
          isDragging = false;
          draggable.style.cursor = "pointer"; // Restauramos el cursor

          // Guardamos la posición de la imagen en localStorage
          setPositionToLocalStorage(
            imgId,
            draggable.offsetLeft,
            draggable.offsetTop
          );
        });

        // Prevenimos la selección de texto accidental durante el arrastre
        document.addEventListener("selectstart", (event) => {
          if (isDragging) {
            event.preventDefault(); // Evita seleccionar texto
          }
        });
      });
    </script>

    <header class="header">
      <nav>
        <ul class="nav-list">
          <li>
            <img
              src="Assets/portfolio/blackstar.svg"
              alt="Imagen Rotando"
              class="rotating-image"
              width="30"
              height="30"
              padding-left="80px"
            />
            <a style="align-items: center; padding-left: 60px" href="#about">
              <strong>About Me / </strong> Sobre mí misma
            </a>
          </li>

          <li>
            <img
              src="Assets/portfolio/whitestar.svg"
              alt="Imagen Rotando"
              class="rotating-image"
              width="30"
              height="30"
              padding-left="60px"
            />
            <a style="padding-left: 60px" href="#work">
              <strong>My Work / </strong> Mis proyectos
            </a>
          </li>

          <li>
            <img
              src="Assets/portfolio/blackpunzon.svg"
              alt="Imagen Rotando"
              class="rotating-image"
              width="30"
              height="30"
              padding-left="60px"
              60px
            />
            <a style="padding-left: 60px" href="#contact"
              >Contact Me / Contacta conmigo</a
            >
          </li>
        </ul>
      </nav>
    </header>

    <section style="padding-top: 20%; padding-bottom: 25%">
      <h3 style="text-align: center; font-size: 2em">irenecasenave</h3>
    </section>
    <main>
      <!-- About Section -->
      <section id="about" class="about">
        <img
          src="Assets/portfolio/yo.jpeg"
          alt="Irene Casenave"
          class="profile-image"
        />

        <div class="about-text">
          <h1 style="margin-bottom: -0.1em; padding-left: 5em; font-size: 20px">
            ¡Hola! Me llamo
          </h1>

          <h1
            class="highlight"
            style="
              font-size: 55px;
              letter-spacing: 0.0005em;
              padding-left: 1.8em;
              max-width: 900px;
            "
          >
            Irene <br />
            Casenave
          </h1>
          <br />

          <br /><br />
          <h3 style="line-height: 20px; padding-left: 5em">
            Soy estudiante de Diseño Audiovisual e Ilustración en UDIT. Siempre
            tuve una visión muy artística de la vida donde el expresarme a mi
            manera era lo más natural. Sin embargo, con el tiempo y a raíz de
            diversas experiencias y factores sociales comencé a adaptarme a una
            visión
          </h3>
          <br />

          <h3 style="padding-left: 5em">
            más rígida y monótona de la realidad. Hoy me encuentro en un proceso
            de desaprender esas rigideces y reconectar con aquella niña que no
            temía plasmar su mundo de la forma más alocada posible.
          </h3>
        </div>
      </section>
      <br />
      <br />
      <!-- Work Section -->
      <section id="work" class="work">
        <strong style="display: block; margin-bottom: 0.1em; font-size: 2em">
          My Work /
        </strong>
        <p style="margin-top: 0; font-size: 2em">Mis proyectos</p>

        <div class="projects-grid">
          <!-- Proyecto 1 -->
          <div class="project-box;">
            <div class="image-container" onclick="toggleOverlay(this)">
              <a href="slydin.html">
                <img
                  style="height: 70%; height: 70%"
                  src="Assets/portfolio/slydin2.png"
                  alt="Slydin"
                />
                <div class="overlay"></div>
              </a>
            </div>
          </div>
          <!-- Proyecto 2 -->
          <div class="project-box;">
            <div class="image-container" onclick="toggleOverlay(this)">
              <a href="zarawonder.html">
                <img
                  style="height: 70%; height: 70%"
                  src="Assets/portfolio/zara.png"
                  alt="Slydin"
                />
                <div class="overlay"></div>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section class="contact">
        <span>
          <strong
            style="
              display: block;
              margin-bottom: 0.1em;
              font-size: 2em;
              text-align: left;
              padding-top: -15px;
            "
          >
            Contact me/ <br />
            Contacta conmigo
          </strong>
          <p style="margin-top: 0; font-size: 1em; text-align: left">
            rrss: irenecasenave <br />
            gmail:irenerukis@gmail.com
          </p>
        </span>

        <span>
          <img
            style="
              grid-column: span;
              padding-left: 100%;
              padding-top: 0em;
              padding-bottom: 30%;
              scale: 150%;
            "
            src="Assets/portfolio/ruedas2.svg"
          />
        </span>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer" style="text-align: center; margin-top: 2em">
      <p>© 2024 Irene Casenave</p>
    </footer>

    <!-- JavaScript -->
    <script>
      function toggleOverlay(container) {
        container.classList.toggle("clicked");
      }
    </script>
  </body>
</html>
